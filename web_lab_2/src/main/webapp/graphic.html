<!DOCTYPE html>
<html>
 <head>
  <title>canvas</title>
  <meta charset="utf-8">
  <script>

  var i = 160;
  var R = 100;
  //const rayBuf = 40;

  const maxXCoord = 5;
  const minXCoord = -3;
  const stepX = 0.5;
  
  //var pixelStepX = 14; //(i - rayBuf) / (maxXCoord / stepX);

  const pixelStep = 26;

  const maxYCoord = 5;
  const minYCoord = -5;
  const stepY = 1;
  
  
  //var pixelStepY = 26; //(i - rayBuf) / (maxYCoord / stepY);


  window.onload = function() {
  
  prepareCoordinateSystem();
  
  function prepareCoordinateSystem() {
    var drawingCanvas = document.getElementById('smile');
    if(drawingCanvas && drawingCanvas.getContext) {
     var ctx = drawingCanvas.getContext('2d');

     ctx.strokeStyle = "rgba(0,0,0,1)";
     ctx.lineWidth = 2;
     ctx.translate(300, 300);
     ctx.save();
     //ctx.rotate(-Math.PI/2);


	 // Ray X
     ctx.moveTo(-i,0);
     ctx.lineTo(i,0);
     // Arrow end
     ctx.lineTo(i-i/15, i/15);
     ctx.moveTo(i,0);
     ctx.lineTo(i-i/15, -i/15);

     
     // Ray Y
     ctx.moveTo(0, i);
     ctx.lineTo(0, -i);
     // Arrow end
     ctx.lineTo(i/15, -i+i/15);
     ctx.moveTo(0, -i);
     ctx.lineTo(-i/15, -i+i/15);
     
   
     
     var pixelXCoord = -maxXCoord * pixelStep - 4;
	 for(let j=-maxXCoord; j<=maxXCoord; j += stepX) {
     
     	if (j % 1 == 0) { 
     		ctx.fillText(j,  pixelXCoord, -4);
        } else {
        	ctx.fillText(j,  pixelXCoord, 10);
        }
        pixelXCoord += pixelStep * stepX;
     }
     

     
     var pixelYCoord = maxYCoord * pixelStep + 4;
	 for(let j=-maxYCoord; j <= maxYCoord; j += stepY) {
     
     	 if ( j != 0 ) {
        	if (j % 1 == 0) { 
     			ctx.fillText(j,  4, pixelYCoord);
        	} else {
        		ctx.fillText(j,  -10, pixelYCoord);
        	}
        }
        

        pixelYCoord -= pixelStep * stepY;
     }
 

     ctx.stroke();
    
    
     drawArea(5);
     
     function drawArea(r) {
     
       //квадрат
       ctx.rotate(-Math.PI/2);
       ctx.fillStyle = "rgba(95, 158, 160, 0.5)";
       ctx.fillRect(0, 0, r * pixelStep, r * pixelStep);

       //треугольник
       ctx.beginPath();
       ctx.moveTo(0, 0);
       ctx.lineTo(- (r * pixelStep), 0);
       ctx.lineTo(0, r * pixelStep);
       ctx.fill();


       //полукруг
       ctx.beginPath();
       ctx.rotate(Math.PI/2);
       ctx.moveTo(0, 0);
       ctx.arc(0, 0, (r * pixelStep)/2, Math.PI, Math.PI/2, true);
       ctx.lineTo(0, 0);
       ctx.fill();
     }
     
    }
    }
   }
  </script>
 </head>
 <body>
  <canvas id="smile" width="1000" height="1000">
    <p>Ваш браузер не поддерживает рисование.</p>
  </canvas>
 </body>
</html>
